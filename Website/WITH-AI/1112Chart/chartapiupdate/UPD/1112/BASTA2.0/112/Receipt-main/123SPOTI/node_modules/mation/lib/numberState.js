'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _reactMotionLibStepper = require('react-motion/lib/stepper');

var _reactMotionLibStepper2 = _interopRequireDefault(_reactMotionLibStepper);

var _spring = require('./spring');

var NumberState = (function () {
  function NumberState(val) {
    _classCallCheck(this, NumberState);

    this.moving = false;
    this.vel = 0;

    this.x = val;
  }

  NumberState.prototype.step = function step(delta, destination, config) {
    if (_spring.isSpring(destination)) return this.step(delta, destination.value, destination.config);
    if (!config) {
      this.x = destination;
      this.vel = 0;
      this.moving = false;
      return this;
    }

    var stiffness = config.stiffness;
    var damping = config.damping;

    var newStuff = _reactMotionLibStepper2['default'](delta / 1000, this.x, this.vel, destination, stiffness, damping, 0.05);
    this.x = newStuff[0];
    this.vel = newStuff[1];
    if (this.x === destination && this.vel === 0) this.moving = false;else this.moving = true;
    return this;
  };

  return NumberState;
})();

exports['default'] = NumberState;
module.exports = exports['default'];