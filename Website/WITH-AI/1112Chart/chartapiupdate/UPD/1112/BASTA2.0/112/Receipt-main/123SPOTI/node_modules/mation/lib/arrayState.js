'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _state = require('./state');

var _state2 = _interopRequireDefault(_state);

var _spring = require('./spring');

var ArrayState = (function () {
  function ArrayState(val) {
    _classCallCheck(this, ArrayState);

    this.moving = false;

    this.x = val.slice();
    this.states = val.map(function (v) {
      return _state2['default'](v);
    });
  }

  ArrayState.prototype.step = function step(delta, destination, config) {
    if (_spring.isSpring(destination)) return this.step(delta, destination.value, destination.config);

    this.moving = false;
    for (var i = 0; i < this.states.length; i++) {
      this.states[i].step(delta, destination[i], config);
      this.x[i] = this.states[i].x;
      if (this.states[i].moving) this.moving = true;
    }
    return this;
  };

  return ArrayState;
})();

exports['default'] = ArrayState;
module.exports = exports['default'];